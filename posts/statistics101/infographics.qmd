---
title: "ã‚¤ãƒ³ãƒ•ã‚©ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹"
author: "Ryo Nakagami"
date: "2024-10-07"
date-modified: last-modified
number_sections: false
code-fold: true
comments:
    utterances:
         repo: RyoNakagami/statistics-for-regression-monkey
         label: discussion
jupyter: python3
---


### box-plot

ç®±ã²ã’å›³ï¼ˆãƒœãƒƒã‚¯ã‚¹ãƒ—ãƒ­ãƒƒãƒˆï¼‰ã¯ï¼Œãƒ‡ãƒ¼ã‚¿ã®åˆ†å¸ƒã‚’è¦–è¦šåŒ–ã™ã‚‹ãŸã‚ã®ã‚°ãƒ©ãƒ•ã§ã™ï¼
ãƒ‡ãƒ¼ã‚¿ã®æœ€å°å€¤ï¼Œç¬¬ä¸€å››åˆ†ä½ç‚¹ï¼Œä¸­å¤®å€¤ï¼Œç¬¬ä¸‰å››åˆ†ä½ç‚¹ï¼ŒãŠã‚ˆã³æœ€å¤§å€¤ã‚’ç¤ºã—ã¾ã™ï¼

```{python}
# | code-fold: true
import matplotlib.pyplot as plt
import numpy as np
from regmonkey_style import stylewizard as sw

sw.set_templates("regmonkey_boxplot")

# Generate example data
np.random.seed(42)
N = 50
data = np.random.chisquare(1, N)
data2 = np.random.normal(0, 1, N)

# Create a box plot
fig, ax = plt.subplots(figsize=(5, 6))
ax.set_title("Box Plot of Random Data", weight='bold')
ax.boxplot([data, data2], vert=True, patch_artist=True, widths=0.35)
ax.set_xlabel("Category")
ax.set_ylabel("Values")

LOGO = ""
ax.add_patch(
    plt.Rectangle(
        (-0.01, 0.99),  # Set location of rectangle by lower left corder
        0.12,  # Width of rectangle
        -0.04,  # Height of rectangle. Negative so it goes down.
        facecolor="#475ED1",
        transform=fig.transFigure,
        clip_on=False,
        linewidth=0,
    )
)

ax.text(0.05, 0.98, LOGO,  # Set x, y position inside the rectangle
        weight='bold',
        color='white',                 # Text color
        fontsize=10,                   # Font size
        ha='center',                     # Horizontal alignment
        va='top',                      # Vertical alignment
        transform=fig.transFigure)     # Relative to the figure


ax.plot(
    [-0.01, 0.9],  # Set width of line
    [0.99, 0.99],  # Set height of line
    transform=fig.transFigure,  # Set location relative to plot
    clip_on=False,
    color="#475ED1",
    linewidth=0.6,
)

plt.show()
```

ä¸Šã®box plotã‚ˆã‚Šä»¥ä¸‹ã®è§£é‡ˆãŒã§ãã¾ã™:

- Category 2ã¨æ¯”ã¹Category 1ã®ã»ã†ãŒmin-maxç¯„å›²ãŒåºƒã„
- Category 1ã®medianã¯ç¬¬ä¸€å››åˆ†ä½ç‚¹ã«ã‚ˆã£ã¦ã„ã‚‹ã®ã§å³ã«æ­ªã‚“ã§ã„ã‚‹(=å³ã®è£¾ãŒé•·ã„)



### å¹¹è‘‰è¡¨ç¤º

åˆ†å¸ƒã®å½¢çŠ¶ã‚’è¦–è¦šåŒ–ã™ã‚‹ãŸã‚ã«å®šé‡ãƒ‡ãƒ¼ã‚¿ã‚’ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªå½¢å¼ã§è¡¨ç¾ã™ã‚‹ãŸã‚ã®æ‰‹æ³•ã¨ã—ã¦å¹¹è‘‰è¡¨ç¤ºãŒã‚ã‚Šã¾ã™ï¼
è¦³æ¸¬å€¤ã‚’æ˜‡é †ã«ä¸¦ã¹ãŸä¸Šã§ï¼Œå¹¹ã¨è‘‰ãŒãã‚Œãã‚Œä½•ã‚’è¡¨ã™ã®ã‹ã‚’æ±ºå®šã—ã¾ã™ï¼é€šå¸¸ã€è‘‰ã¯æ•°å€¤ã®æœ€å¾Œã®æ¡ã‚’å«ã¿ã€èŒã¯ãã‚Œä»¥å¤–ã®æ¡ã‚’å«ã¿ã¾ã™ï¼

ãã®å¾Œï¼Œå¹¹ã¨è‘‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—å˜ä½ã¨ã—ã¦ãã‚Œãã‚Œã®ã‚°ãƒ«ãƒ¼ãƒ—ã®å‡ºç¾é »åº¦ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã¦è¡¨ç¤ºã—ã¾ã™ï¼
ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€è‘‰ã¯1ã®ä½ã‚’è¡¨ã—ã€èŒã¯ãã‚Œä»¥å¤–ã®æ¡ï¼ˆ10ã®ä½ä»¥ä¸Šï¼‰ã‚’è¡¨ã—ã¾ã™ï¼

```{python}
#| code-fold: true
import numpy as np
import polars as pl

np.random.seed(42)

def stem_and_leaf(data, leaf_scale=1):
    # Sort the data
    data = sorted(data)
    
    # Create a dictionary to hold the stems and leaves
    stem_leaf = {}
    
    for number in data:
        # Split the number into stem and leaf based on the leaf scale
        stem = number // (10 ** leaf_scale)
        leaf = number % (10 ** leaf_scale)
        
        # Add the leaf to the appropriate stem
        if stem in stem_leaf:
            stem_leaf[stem].append(leaf)
        else:
            stem_leaf[stem] = [leaf]
    
    # Print the header
    print(f"{'Freq':>4} | {'Stem':>4} | {'Leaf':<20} | {'CumFreq':>7}")
    print('-' * 40)
    
    # Print the stem-and-leaf plot with frequencies and cumulative frequencies
    cumulative_freq = 0
    for stem, leaves in sorted(stem_leaf.items()):
        frequency = len(leaves)
        cumulative_freq += frequency
        leaves_str = ' '.join(f"{leaf:0{leaf_scale}d}" for leaf in leaves)
        print(f"{frequency:>4} | {stem:>4} | {leaves_str:<20} | {cumulative_freq:>7}")

# Example data
data = np.random.randint(0, 100, 21)
data.sort()

print("sorted data is \n{}\n".format(data))
stem_and_leaf(data, leaf_scale=1)
print(pl.DataFrame({'x':data}).describe())
```

::: {.nte- .callout-tip icon="false"}
# ğŸµ Green Tea Break

é›»è»Šã®æ™‚åˆ»è¡¨ã‚‚å¹¹è‘‰è¡¨ç¤ºã®ä¸€ä¾‹ã¨è¨€ãˆã¾ã™ï¼

|æ™‚åˆ»ï¼ˆæ™‚ï¼‰	|åˆ†ï¼ˆè‘‰ï¼‰|
|---|---|
|6|	05 12 18 25 32|
|7|	10 17 23 30 37 40 47 50 51 52|
|8|	15 22 28 35 42 50 51 52|
|9|	20 27 33 40 47|
|10|	20 27 |

ã¨ã‚ã‚‹é§…ã®æ™‚åˆ»è¡¨ãŒä¸Šã®ã‚ˆã†ã«ä¸ãˆã‚‰ã‚Œã¦ã„ãŸã¨ãï¼Œ

- ã©ã®æ™‚åˆ»ã«é›»è»ŠãŒæ¥ã‚‹ã®ã‹ï¼Ÿ
- ã©ã®æ™‚é–“å¸¯ãŒä¸€ç•ªå¤šãé›»è»ŠãŒç™ºè»Šã™ã‚‹ã®ã‹ï¼Ÿ

ã¨ã„ã†æƒ…å ±ã‚’è¦–è¦šçš„ã«å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼

:::